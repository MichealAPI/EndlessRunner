<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endless Runner</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

    <style>
        body {
            overflow: hidden;
        }
    </style>

</head>

<body>
    <script>

        let player;
        let environment;

        function preload() {
            Player.preload()
            Obstacle.preload()
            gamePreload()
        }

        function setup() {

            // screen-sized

            createCanvas(windowWidth, windowHeight);

            angleMode(DEGREES);
            frameRate(60)

            environment = new Environment(50);

            //registerListeners();

            player = new Player();
            player.init(environment)

            generatePiles(4000 + (Math.random() * 500), 5)

        }

        function draw() {

            environment.drawBackground()
            environment.drawPlatform();

            player.draw()

            drawPiles()

            push()
            fill(105, 78, 42)
            textSize(width / 8);
            textFont(minecraftFont)
            text(points, width / 2, height / 2)
            pop()

        }

    </script>

    <script src="static/js/p5.min.js"></script>
    <script src="static/js/environment.js"></script>
    <script src="static/js/player.js"></script>
    <script src="static/js/game.js"></script>
    <script src="static/js/animation.js"></script>
    <script src="static/js/obstacle.js"></script>

</body>